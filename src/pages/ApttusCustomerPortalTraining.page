<apex:page controller="ACPTrainingController">
<script src="{!URLFOR($Resource.ApttusCustomerPortal, 'learning/js/lib.js')}"></script>
<script>
	jQuery(document).ready(function(){
		/* tabs */
		jQuery('#tab-container').easytabs();
	});
	
	function redirect(data){
		document.location.href = data;
	}
</script>
<style>
#training h1,
#training h2,
#training h3,
#training h4,
#training h5,
#training h6{
	display:block;
	margin-bottom: 6px;
}
#training div{
	display:block;
}
#training ul{
	list-style-type: circle;
	padding-left: 5px;
}
#training ul{
	margin-left: 30px;
}
/* easy tabs */
.etabs { margin: 0; padding: 0; }
.tab {
    display: inline-block;
    zoom:1;
    *display:inline;
    background: #eee;
    border: solid 1px #999;
    border-bottom: none;
    -moz-border-radius: 6px 6px 0 0;
    -webkit-border-radius: 6px 6px 0 0;
    border-radius: 6px 6px 0 0;

    behavior: {!URLFOR($Resource.ApttusCustomerPortal, '/css/PIE.htc')};
}
.tab a { font-size: 14px; line-height: 2em; display: block; padding: 0 10px; outline: none; }
.tab a:hover { text-decoration: underline; }
.tab.active { background: whiteSmoke; padding-top: 6px; position: relative; top: 1px; border-color: #666; }
.tab a.active { font-weight: bold; }
.tab-container .panel-container {
	border-top: solid #666 1px;
	padding-top: 20px;
}

/* button style */
	#training .install-link{display:block; margin-top:20px;}
	#training .button-link {
		margin-right: 10px;
	    padding: 10px 15px;
	    background: #1B5C78;
	    color: #FFF;
        -webkit-border-radius: 4px;
		-moz-border-radius: 4px;
		border-radius: 4px;
		border: solid 1px #20538D;
		font-weight: bold;
		text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.4);
		-webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.4), 0 1px 1px rgba(0, 0, 0, 0.2);
		-moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.4), 0 1px 1px rgba(0, 0, 0, 0.2);
		box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.4), 0 1px 1px rgba(0, 0, 0, 0.2);
		-webkit-transition-duration: 0.2s;
	    -moz-transition-duration: 0.2s;
	    transition-duration: 0.2s;
	}
	
	#training .button-link:hover, 
	#training .button-link:focus {
	   background: #66AA00;
	   border: solid 1px #2A4E77;
	   text-decoration: none;
	}
	
	#training .button-link:active {
	    -webkit-box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.6);
	    -moz-box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.6);
	    box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.6);
	    background: #2E5481;
	    border: solid 1px #203E5F;
	}
	
	#training .button-link {
	    -webkit-user-select:none;
	    -moz-user-select:none;
	    -ms-user-select:none;
	    user-select:none;
	}
	
	#training .buttons-link{
		margin: 35px 0 10px 0;
	}

	.bSubBlock .lbBody {
		padding-left: 20px;
	}

	.textStyle{
		text-decoration: underline;
		font-weight: bold;
		display:block;
	}

	#training .bSubBlock .lbBody #attachsSection span {
		vertical-align: baseline!important;
	}
</style>
<apex:form >
<div id="training">
	<div id="tab-container" class="tab-container">
		<ul class='etabs'>
			<apex:variable var="c" value="1" />
		 	<apex:repeat value="{!categoriesToDisplay}" var="o">
			  	<li class='tab'>
			  		<a href="#tab{!c}"><apex:outputText value="{!o}" /></a>
			  	</li>
			  	<apex:variable var="c" value="{!VALUE(c) + 1}" />
			</apex:repeat>
		</ul>
		<div class='panel-container'>
			<apex:variable var="i" value="1" />
			<apex:repeat value="{!categoriesToDisplay}" var="tab">
				<div id="tab{!i}">
				
	
					<apex:repeat value="{!courses}" var="course">
						<apex:outputPanel rendered="{!course.Category__c = tab}">
						<div class="bSubBlock brandSecondaryBrd secondaryPalette">
							<h3 class="lbHeader"><apex:outputText value="{!course.Name}"/></h3>
							<div class="lbBody">
								<apex:outputText value="{!course.Description__c}" escape="false" />
								<div class="buttons-link">
									<apex:repeat value="{!course.Attachments}" var="att">
										<apex:outputLink value="/servlet/servlet.FileDownload?file={!att.Id}" styleClass="button-link" target="_blank" rendered="{!if(course.Attachments.size>0,true, false)}">			
											<apex:outputText value="{!$Label.ACPCourseDownloadText}" />
											<apex:actionSupport event="onclick" action="{!downloadTrack}" rerender="">
												<apex:param value="{!course.Id}" assignTo="{!courseId}" name="courseId"/>
											</apex:actionSupport>
										</apex:outputLink>
									</apex:repeat>
									<apex:outputLink value="mailTo:{!$Label.ACPLeariningEmailToAddress}?subject={!$Label.ACPLearningEmailToSubject & ' ' & course.Name}&body={!$Label.ACPLearningEmailToBody & ' ' & course.Name}" styleClass="button-link">			
										{!$Label.ACPLearningEmailToLinkText}
										<apex:actionSupport event="onclick" action="{!askForItTrack}" rerender="">
											<apex:param value="{!course.Id}" assignTo="{!courseId}" name="courseId"/>
										</apex:actionSupport>
									</apex:outputLink>
								</div>
								<span class="fFooter"></span>
							</div>
						</div>
						</apex:outputPanel>
					</apex:repeat>
	
	
		  		</div>
	  			<apex:variable var="i" value="{!VALUE(i) + 1}" />
			</apex:repeat>
		</div>
	</div>

</div>
</apex:form>
<script>
jQuery(function() {
   jQuery('<a name="top"/>').insertBefore(jQuery('body').children().eq(0));
   window.location.hash = 'top';
});
</script>
</apex:page>