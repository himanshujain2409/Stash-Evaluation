<apex:page standardController="MBO__c" recordSetvar="myMbos" extensions="ApttusMbos" id="aptsmbos">
    <script type="text/javascript" src="/soap/ajax/20.0/connection.js"></script>
    <script type="text/javascript" src="/soap/ajax/20.0/apex.js"></script>
    <style>
        .activeTab { background-color: green; color:white; background-image:none; font-weight:bold; font-size:110%}
        .inactiveTab { background-color: lightgrey; color:black; background-image:none }
        .disabledTab { background-color: grey; color:black; background-image:none }
    </style>
<apex:form >
<apex:pageMessages /> 
</apex:form>

<apex:tabPanel id="idTabPanel" switchType="ajax" inactiveTabClass="inactiveTab" disabledTabClass="disabledTab" tabClass="activeTab" contentClass="tabContentClass">
      
   
<apex:tab id="idMyMbo" label="My MBOs" name="MyMboTab" >
<apex:form id="theForm1"> 
<apex:pageBlock title="My MBOs" id="idpb1">
<apex:pageBlockSection columns="1">
<apex:pageBlockTable style="margin: 5px 0px 5px 0px" value="{!myMbos}" var="mbo" id="mbo_table1" width="100%" rules="rows" rowClasses="odd,even">
              <apex:column headerValue="MBO Name">
                  <apex:facet name="header">   
                      <apex:commandLink action="{!sortRequestRecords}" value="MBO Name{!IF(sortExpression=='name',IF(sortDirection='ASC','▼','▲'),'')}" id="cmdSort">
                          <apex:param value="Name" name="column" assignTo="{!sortExpression}" ></apex:param>
                      </apex:commandLink>
                  </apex:facet>
                  <apex:commandLink value="{!mbo.Name}" action="{!goMbo}" target="_blank">
                      <apex:param name="column" value="{!mbo.Id}" assignTo="{!mboId}"/>
                  </apex:commandLink>
              </apex:column>
              <apex:column headerValue="Status" value="{!mbo.Status__c}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="Status{!IF(sortExpression=='Status__c',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="Status__c" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                   </apex:facet>
              </apex:column>
              <apex:column headerValue="Manager" value="{!mbo.Manager__r.Name}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="Manager{!IF(sortExpression=='Manager__r.Name',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="Manager__r.Name" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                    </apex:facet>
              </apex:column>

              <apex:column headerValue="GOAL #1" value="{!mbo.MBO_1__c}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="GOAL #1{!IF(sortExpression=='MBO_1__c',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="MBO_1__c" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                    </apex:facet>
              </apex:column>
              <apex:column headerValue="GOAL #2" value="{!mbo.MBO_2__c}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="GOAL #2{!IF(sortExpression=='MBO_2__c',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="MBO_2__c" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                  </apex:facet>
              </apex:column>
              <apex:column headerValue="GOAL #3" value="{!mbo.MBO_3__c}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="GOAL #3{!IF(sortExpression=='MBO_3__c',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="MBO_3__c" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                  </apex:facet>
              </apex:column>


                
</apex:pageBlockTable>
</apex:pageBlockSection>

</apex:pageBlock>
</apex:form>
 </apex:tab>
 
 <apex:tab id="idMyTeamMbo" label="My Team MBOs" name="MyTeamMboTab" rendered="{!showTab}" >
<apex:form id="theForm2"> 
<apex:pageBlock title="My Team MBOs" id="idpb1">
<apex:pageBlockSection columns="1">
<apex:pageBlockTable style="margin: 5px 0px 5px 0px" value="{!myTeamMbos}" var="mbo" id="mbo_table1" width="100%" rules="rows" rowClasses="odd,even">
              <apex:column headerValue="MBO Name">
                  <apex:facet name="header">   
                      <apex:commandLink action="{!sortRequestRecords}" value="MBO Name{!IF(sortExpression=='name',IF(sortDirection='ASC','▼','▲'),'')}" id="cmdSort">
                          <apex:param value="Name" name="column" assignTo="{!sortExpression}" ></apex:param>
                      </apex:commandLink>
                  </apex:facet>
                  <apex:commandLink value="{!mbo.Name}" action="{!goMbo}" target="_blank">
                      <apex:param name="mbId" value="{!mbo.Id}" assignTo="{!mboId}" />
                  </apex:commandLink>
              </apex:column>
              <apex:column headerValue="Status" value="{!mbo.Status__c}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="Status{!IF(sortExpression=='Status__c',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="Status__c" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                   </apex:facet>
              </apex:column>
              <apex:column headerValue="Employee" value="{!mbo.Employee__r.Name}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="Employee{!IF(sortExpression=='Employee__r.Name',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="Employee__r.Name" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                    </apex:facet>
                </apex:column>

              <apex:column headerValue="GOAL #1" value="{!mbo.MBO_1__c}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="GOAL #1{!IF(sortExpression=='MBO_1__c',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="MBO_1__c" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                    </apex:facet>
              </apex:column>
              <apex:column headerValue="GOAL #2" value="{!mbo.MBO_2__c}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="GOAL #2{!IF(sortExpression=='MBO_2__c',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="MBO_2__c" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                  </apex:facet>
              </apex:column>
              <apex:column headerValue="GOAL #3" value="{!mbo.MBO_3__c}">
                  <apex:facet name="header">   
                        <apex:commandLink action="{!sortRequestRecords}" value="GOAL #3{!IF(sortExpression=='MBO_3__c',IF(sortDirection='ASC','▼','▲'),'')}" >
                            <apex:param value="MBO_3__c" name="column" assignTo="{!sortExpression}" ></apex:param>
                        </apex:commandLink>
                  </apex:facet>
              </apex:column>
                
</apex:pageBlockTable>
</apex:pageBlockSection>

</apex:pageBlock>
</apex:form>
 </apex:tab>                 

                         
</apex:tabPanel>   
</apex:page>